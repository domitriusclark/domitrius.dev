---
import { getTableData } from "@jcha0713/astro-notion/api";
import BaseLayout from "@layouts/BaseLayout.astro";
import PostPreview from "@components/PostPreview.astro";
const data = await getTableData();
const sortedPosts = data.sort(
  (a, b) =>
    new Date(b.date.created).valueOf() - new Date(a.date.created).valueOf()
);
---

<BaseLayout>
  <main>
    <div class="w-full flex flex-col items-center">
      <h1 class="justify-self-center text-5xl">Yo! I'm Domitrius</h1>
    </div>
    <div class="flex flex-col gap-4 pt-10">
      {
        sortedPosts.map((post) => (
          <PostPreview postUrl={post.url} post={post} />
        ))
      }
    </div>
  </main>
</BaseLayout>
